  <div class="container">
	{% block promoted %}
	   {% snippet 'home/snippets/promoted.html' %}
	{% endblock %}
 </div>
 
{% if g.hero_image_url %}
  {% if not g.hero_image_url.startswith('http') %}
    {% set hero_image_url = h.url_for_static('uploads/admin/' + g.hero_image_url) %}
  {% else %}
    {% set hero_image_url = g.hero_image_url %}
  {% endif %}
{% endif %}

<div role="main"
  {% if hero_image_url %}
    class="hero hero-search"
    style="background-image: url({{ hero_image_url }})"
  {% else %}
    class="hero hero-search hero-default-background"
  {% endif %}
>
  {% block search %} {% snippet 'home/snippets/hero_search.html' %} {% endblock %}
</div>

{% set news = h.get_recent_blog_posts(3) %}
{% set groups = h.get_group_list() %}

    {% if news %}
	<div class="container">
      <div class="news">
        <div class="news-header">
          <h3 class="news-header-title">{{ _('In the News') }}</h3>
          {% set news_url = h.url(controller='pages', action='blog_index') %}
          <a class="btn btn-small btn-news-archive" href="{{ news_url }}">{{ _('News –êrchive') }}</a>
        </div>
        <div class="news-items-container">
          {% for article in news %}
            {% set article_url = h.url_for(controller='pages', action='blog_show', page='/' + article.name) %}
            <a href="{{ article_url }}" class="news-item">
              {% if article.image %}
                <figure class="news-item-photo">
                  <img src="{{ article.image }}" alt="{{ article.title }} news article cover">
                </figure>
              {% endif %}
              <span class="news-item-title">{{ article.title or article.name }}</span>
              <span class="news-item-description">{{ h.markdown_extract(article.content) }}</span>
            </a>
          {% endfor %}
        </div>
      </div>
      <!-- .news -->
	</div>
    {% endif %}
  


<div role="main">
	<!-- DESTACADOS AQUI -->
	<div class="containerHome">
		{% snippet 'home/snippets/great_view.html' %}
	</div>
	
</div>	

<div role="main">
  <div class="container">
    <div class="row">
      <div class="col-md-6">
        {% snippet 'home/snippets/featured_popular.html' %}
      </div>
      <div class="col-md-6">
        {% snippet 'home/snippets/featured_recent.html' %}
      </div>
    </div>
  </div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
var grupos=document.getElementsByName("grupoL");
if (grupos.length>7)
	{
		limita();
	}
function limita(){
		for (var i=8;i<grupos.length;i++)
		{
			grupos[i].style.display="none";
		}
		document.getElementById("parrafoMas").innerHTML="<div style='clear: both'><h5><a href='javascript:muestraTodos()'  style='color: #333;'>{{ _('Show more')}}</a></h5></div>";
}

function muestraTodos(){
		for (var i=8;i<grupos.length;i++)
		{
				grupos[i].style="";
		}
		document.getElementById("parrafoMas").innerHTML="<div style='clear: both'><h5><a href='javascript:limita()' style='color: #333;'>{{ _('Hide')}}</a></h5></div>";
}



//Funcionalidad Etiquetas
var etiquetasBusqueda=new Array();
$(document).ready(function(){  	 
	   $.ajax({
			url: '/api/3/action/tag_list',
			contentType: "application/json;charset=UTF-8",
			dataType:'json',
			success: function(datos){        					
				arrayDatos=datos.result;
				//console.log(arrayDatos);
				var vectorSuperior=new Array();
				if (arrayDatos.length>0)
				{
					//console.log(arrayDatos)
					for (var i=0;i<arrayDatos.length;i++)				
					{
						cDatos=arrayDatos[i];						
						etiquetasBusqueda.push(cDatos);									
					}
					if ($("#busquedaQ")!=null)
					{
						setInterval(function(){cambiaBusqueda(etiquetasBusqueda)},5000);
					}
				}
				
			}
		});
});
function cambiaBusqueda(vector){	
	var _ejemplo='ej. ';
	cajaBusqueda=$("#busquedaQ");		
	//console.log("cajaBusqueda:"+cajaBusqueda.val())
	if (cajaBusqueda.val()=='')
		{
			//console.log("entro en el if")
			placeHolderActual=$("#busquedaQ").attr("placeholder");
			placeHolderActual=placeHolderActual.replace(_ejemplo, "");
			//console.log(placeHolderActual)
			posicion=vector.indexOf(placeHolderActual);			
			//console.log(posicion)
			if ((posicion==-1)&&(vector.length>0))
				posicion=0;
			if (posicion>=0)			
			{
				if (posicion==vector.length-1)
					posicion=0;
				else
					posicion++;
				cajaBusqueda.attr("placeholder", _ejemplo+vector[posicion]);				
			}
		 
		}
}	


	
</script>